<!DOCTYPE html>
<html xmlns:th="http://www.w3.org/1999/xhtml">
	<head>
		<meta charset="utf-8">
		<title>首页</title>
		<meta name="renderer" content="webkit">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
		<link rel="stylesheet" th:href="@{/static/component/pear/css/pear.css}" />
		<link rel="stylesheet" th:href="@{/static/admin/css/other/console1.css}" />
	</head>
	<body class="pear-container">
		<div th:if="${session.user.roles} eq 1">
			<div class="layui-row layui-col-space10">
				<div class="layui-col-xs6 layui-col-md3">
					<div class="layui-card top-panel">
						<div class="layui-card-header">在线人数</div>
						<div class="layui-card-body">
							<div class="layui-row layui-col-space5">
								<div class="layui-col-xs8 layui-col-md8 top-panel-number" style="color: #28333E;" id="value1">
									0
								</div>
								<img th:src="@{/static/admin/images/3.png}" height="50" width="50">
							</div>
						</div>
					</div>
				</div>
				<div class="layui-col-xs6 layui-col-md3">
					<div class="layui-card top-panel">
						<div class="layui-card-header">最活跃人</div>
						<div class="layui-card-body">
							<div class="layui-row layui-col-space5">
								<div class="layui-col-xs8 layui-col-md8 top-panel-number" style="color: #28333E;" id="value3" th:text="${userking}" >

								</div>
								<img th:src="@{/static/admin/images/2.png}" height="45" width="45">
							</div>
						</div>
					</div>
				</div>
				<div class="layui-col-xs6 layui-col-md3">
					<div class="layui-card top-panel">
						<div class="layui-card-header">今日人数</div>
						<div class="layui-card-body">
							<div class="layui-row layui-col-space5">
								<div class="layui-col-xs8 layui-col-md8 top-panel-number" style="color: #28333E;" id="value2">
									0
								</div>
								<img th:src="@{/static/admin/images/4.png}" height="50" width="50">
							</div>
						</div>
					</div>
				</div>
				<div class="layui-col-xs6 layui-col-md3">
					<div class="layui-card top-panel">
						<div class="layui-card-header">总活跃值</div>
						<div class="layui-card-body">
							<div class="layui-row layui-col-space5">
								<div class="layui-col-xs8 layui-col-md8 top-panel-number" style="color: #28333E;" id="value4">
									0
								</div>
									<img th:src="@{/static/admin/images/1.png}" height="45" width="45">
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="layui-row layui-col-space10">
				<div class="layui-col-md9">
					<div class="layui-card">
						<div class="layui-card-body">
							<div class="layui-tab custom-tab layui-tab-brief" lay-filter="docDemoTabBrief">
								<div id="echarts-records" style="background-color:#ffffff;min-height:400px;padding: 10px"></div>
							</div>
						</div>
					</div>
<!--					<div class="layui-card">-->
<!--						<div class="layui-card-header">动态</div>-->
<!--						<div class="layui-card-body">-->
<!--							<dl class="layuiadmin-card-status">-->
<!--								<dd>-->
<!--									<div class="layui-status-img"><a href="javascript:;"><img style="width: 32px;height: 32px;border-radius: 50px;"-->
<!--											 src="../../admin/images/avatar.jpg"></a></div>-->
<!--									<div>-->
<!--										<p>暂 无 <a lay-href="http://www.baidu.comi">暂 无</a> 暂 无</p>-->
<!--										<span>暂 无</span>-->
<!--									</div>-->
<!--								</dd>-->

<!--							</dl>-->
<!--						</div>-->
<!--					</div>-->
				</div>
				<div class="layui-col-md3">
					<div class="layui-card">
						<div class="layui-card-header">最近加入</div>
						<div class="layui-card-body">
							<ul class="list" th:each="user : ${list}">
								<li class="list-item"><span class="title" th:text="${user.username}"></span><span class="footer" th:text="${#dates.format(user.creationTime, 'yyyy-MM-dd HH:mm')}"></span></li>
							</ul>
						</div>
					</div>
					<div class="layui-card">
						<div class="layui-card-header">
							链接
						</div>
						<div class="layui-card-body">
							<a target="_blank" href="http://www.baidu.com" class="pear-btn pear-btn-success layui-btn-fluid" style="height: 50px;line-height: 50px;">百度一下</a>
							<br/>
							<a target="_blank" href="http://www.baidu.com" class="pear-btn pear-btn-primary  layui-btn-fluid" style="margin-top: 8px;height: 50px;line-height: 50px;">百度一下</a>
							<br/>
							<a target="_blank" href="http://www.baidu.com" class="pear-btn pear-btn-warming  layui-btn-fluid" style="margin-top: 8px;height: 50px;line-height: 50px;">百度一下</a>
						</div>
					</div>
				</div>
			</div>
		</div>
		<!--</div>-->
		<script th:src="@{/static/component/pear/layui/layui.js}"></script>
		<script th:src="@{/static/component/pear/pear.js}"></script>
		<script>
			layui.use(['layer', 'echarts', 'element', 'count','topBar'], function() {
				var $ = layui.jquery,
					layer = layui.layer,
					element = layui.element,
					count = layui.count,
					echarts = layui.echarts;

				count.up("value1", {
					time: 4000,
					num: "[[${userCount}]]",
					bit: 0,
					regulator: 100
				})

				count.up("value2", {
					time: 4000,
					num: "[[${users}]]",
					bit: 0,
					regulator: 50
				})


				count.up("value4", {
					time: 4000,
					bit: 0,
					num: "[[${count}]]",
					regulator: 50
				})

				var echartsRecords = echarts.init(document.getElementById('echarts-records'), 'walden');

				var option = {
					tooltip: {
						trigger: 'axis'
					},
					xAxis: [{
						type: 'category',
						data: ['2020-08', '2020-09', '2020-10', '2020-11', '2020-12', '2021-01'],
						axisLine: {
							lineStyle: {
								color: "#999"
							}
						}
					}],
					yAxis: [{
						type: 'value',
						splitNumber: 4,
						splitLine: {
							lineStyle: {
								type: 'dashed',
								color: '#DDD'
							}
						},
						axisLine: {
							show: false,
							lineStyle: {
								color: "#333"
							},
						},
						nameTextStyle: {
							color: "#999"
						},
						splitArea: {
							show: false
						}
					}],
					series: [{
						name: '业绩',
						type: 'line',
						data: [23, 60, 20, 36, 23, 85],
						lineStyle: {
							normal: {
								width: 8,
								color: {
									type: 'linear',

									colorStops: [{
										offset: 0,
										color: '#A9F387' // 0% 处的颜色
									}, {
										offset: 1,
										color: '#48D8BF' // 100% 处的颜色
									}],
									globalCoord: false // 缺省为 false
								},
								shadowColor: 'rgba(72,216,191, 0.3)',
								shadowBlur: 10,
								shadowOffsetY: 20
							}
						},
						itemStyle: {
							normal: {
								color: '#fff',
								borderWidth: 10,
								/*shadowColor: 'rgba(72,216,191, 0.3)',
								shadowBlur: 100,*/
								borderColor: "#A9F387"
							}
						},
						smooth: true
					}]
				};
				echartsRecords.setOption(option);

				window.onresize = function() {
					echartsRecords.resize();
				}

			});
		</script>
	</body>
</html>
